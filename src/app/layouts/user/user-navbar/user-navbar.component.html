<body>
  <nav class="custom-navbar navbar navbar-expand-md navbar-dark bg-dark fixed-top" aria-label="Furni navigation bar">
    <div class="container d-flex align-items-center justify-content-between">
      <!-- Logo -->
      <a class="navbar-brand text-white" routerLink="/">Furni<span>.</span></a>

      <!-- Right Section: User, Cart, Toggle -->
      <div class="d-flex align-items-center gap-3 ms-4 ms-md-5 order-md-2">
        <!-- User Dropdown -->
        <div class="nav-item dropdown position-relative" *ngIf="isLoggedIn">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <img src="images/user.svg" alt="User Profile" />
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow-sm" aria-labelledby="userDropdown">
            <li>
              <a class="dropdown-item" routerLink="/profile">
                <i class="fas fa-user me-2"></i> Profile
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/my-orders">
                <i class="fas fa-box me-2"></i> My Orders
              </a>
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" routerLink="/wishlist">
                <i class="fas fa-heart me-2"></i> Wishlist
                <span *ngIf="wishlistCount !== null" class="badge rounded bg-dark ms-auto"
                  style="font-size: 0.7rem;">
                  {{ wishlistCount }}
                </span>
              </a>
            </li>

            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item text-danger" (click)="logout()">
                <i class="fas fa-sign-out-alt me-2"></i> Logout
              </a>
            </li>
          </ul>

        </div>

        <!-- Cart -->
        <div class="nav-item position-relative">
          <a class="nav-link" routerLink="/cart">
            <img src="images/cart.svg" alt="Cart" width="24" height="24" />
            <span *ngIf="cartCount !== null"
              class="position-absolute top-3 start-100 translate-middle badge rounded-pill bg-danger"
              style="font-size: 0.7rem;">
              {{ cartCount }}
            </span>
          </a>
        </div>

        <!-- Hamburger Toggle -->
        <button class="navbar-toggler border-0 bg-transparent d-md-none" type="button" (click)="toggleNavbar()"
          aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
          <span class="text-white d-flex align-items-center justify-content-center"
            style="font-size: 1.8rem; font-weight: 500;">
            <i [ngClass]="isNavbarOpen ? 'bi-x-lg' : 'bi-list'" class="bi"></i>
          </span>
        </button>
      </div>

      <!-- Nav Links -->
      <div class="collapse  navbar-collapse collapse-custom order-md-1" id="navbarsFurni" #navbarCollapse>
        <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
          <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
            <a class="nav-link" routerLink="/">Home</a>
          </li>
          <li class="nav-item" routerLinkActive="active">
            <a class="nav-link" routerLink="/shop">Shop</a>
          </li>
          <li class="nav-item" routerLinkActive="active">
            <a class="nav-link" routerLink="/about">About us</a>
          </li>
          <li class="nav-item" routerLinkActive="active">
            <a class="nav-link" routerLink="/services">Services</a>
          </li>
          <li class="nav-item" routerLinkActive="active">
            <a class="nav-link" routerLink="/blog">Blog</a>
          </li>
          <li class="nav-item" routerLinkActive="active">
            <a class="nav-link" routerLink="/contact">Contact us</a>
          </li>
          <li class="nav-item" routerLinkActive="active" *ngIf="!isLoggedIn">
            <a class="nav-link" routerLink="/signin">Sign in</a>
          </li>
          <!-- <li class="nav-item" routerLinkActive="active" *ngIf="!isLoggedIn">
            <a class="nav-link" routerLink="/signup">Sign up</a>
          </li> -->
        </ul>
      </div>
    </div>
  </nav>
</body>
