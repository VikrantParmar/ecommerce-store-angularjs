<!-- Shop Body -->
<div class="untree_co-section product-section before-footer-section">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-3">

      <!-- <div class="search-box me-3" style="flex:1; max-width: 300px;">
  <input type="text"
         class="form-control"
         placeholder="Search products..."
         [(ngModel)]="searchQuery"
         (keyup.enter)="onSearchSubmit()" />
</div> -->
      <h5 class="mb-0"></h5>
<div class="d-flex justify-content-end mb-3">
  <app-sort-bar
    [selectedSortOption]="selectedSortOption"
    (sortChange)="onSortChange($event)">
  </app-sort-bar>
</div>



    </div>
    <div class="row">
      <div class="col-md-3 mb-4">


        <div class="container">
          <app-category-list [categories]="categories" [selectedCategoryId]="selectedCategoryId " *ngIf="!searchQuery"
            [loading]="loadingCategories" (categorySelected)="onCategorySelected($event)">
          </app-category-list>
        </div>




      </div>

      <div class="col-md-9">

        <div *ngIf="loadingProducts" class="spinner-container">
          <div class="custom-spinner"></div>
        </div>

        <div class="container">
          <app-product-grid *ngIf="!loadingProducts" [products]="products" [loadingAddToCart]="loadingAddToCart"
            [loading]="loadingProducts" [total]="totalProducts" [perPage]="productsPerPage" [page]="currentPage"
            (pageChange)="onPageChange($event)" (addToCart)="addToCart($event)">
          </app-product-grid>
        </div>
      </div>
    </div>


    <div class="pagination-wrapper-responsive">
      <app-pagination [total]="totalProducts" [page]="currentPage" [perPage]="productsPerPage"
        (pageChange)="onPageChange($event)">
      </app-pagination>
    </div>


  </div>
